clear all;
clc;
A= [
-6.5 0.5 6.5 -6.5 -6.5 0.5 6.5 -6.5;
-0.5 -5.5 -5.5 5.5 -0.5 -5.5 -5.5 5.5;
-0.5 0.5 0.5 -6.5 -0.5 0.5 0.5 -6.5;
-0.5 0.5 -5.5 -0.5 -0.5 0.5 -5.5 -0.5;
-6.5 0.5 6.5 -6.5 -6.5 0.5 6.5 -6.5;
-0.5 -5.5 -5.5 5.5 -0.5 -5.5 -5.5 5.5;
-0.5 0.5 0.5 -6.5 -0.5 0.5 0.5 -6.5;
-0.5 0.5 -5.5 -0.5 -0.5 0.5 -5.5 -0.5;
];
B= [
0 1 0;
2 1 2;
3 4 3;
3 2 3;
0 1 0;
2 1 2;
3 4 3;
3 2 3;
];
n = 8;

C = [
5 2 -1 4 -5 2 -4 5;
2 6 5 8 -4 5 6 -8;
2 1 -4 5 7 8 9 -5;
3 -6 5 4 -7 8 9 -7;
1 4 9 5 6 5 7 -5;
1 4 -5 6 -8 7 -9 4;
1 4 -6 7 9 5 4 7;
3 -6 5 4 -7 8 -9 5; 
];

b = [1 -1 15 -8 10];
a = [-10 -2 -6 5 -7 -9 1 0 -8 0 0 6 0 0 0 0];

%[A B C D] = tf2ss(b,a)
[Abar, nc, T] = obs_vf(A,B,C)
[ni nj] = size(Abar);
if(ni == 0) 
	display('Matrice observabila');
else
[Bs, Bns] = baza_ortho_detectabila(Abar, T, nc)
end
